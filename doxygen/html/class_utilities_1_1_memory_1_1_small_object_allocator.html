<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>PGameStudio: Utilities::Memory::SmallObjectAllocator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PGameStudio</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_utilities_1_1_memory_1_1_small_object_allocator.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Utilities::Memory::SmallObjectAllocator Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Utilities::Memory::SmallObjectAllocator" --><!-- doxytag: inherits="Utilities::Memory::Allocator" -->
<p><code>#include &lt;<a class="el" href="_small_object_allocator_8h_source.html">SmallObjectAllocator.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Utilities::Memory::SmallObjectAllocator:</div>
<div class="dyncontent">
<div class="center"><img src="class_utilities_1_1_memory_1_1_small_object_allocator__inherit__graph.png" border="0" usemap="#_utilities_1_1_memory_1_1_small_object_allocator_inherit__map" alt="Inheritance graph"/></div>
<map name="_utilities_1_1_memory_1_1_small_object_allocator_inherit__map" id="_utilities_1_1_memory_1_1_small_object_allocator_inherit__map">
<area shape="rect" id="node2" href="class_utilities_1_1_memory_1_1_allocator.html" title="Utilities::Memory::Allocator" alt="" coords="41,5,220,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Utilities::Memory::SmallObjectAllocator:</div>
<div class="dyncontent">
<div class="center"><img src="class_utilities_1_1_memory_1_1_small_object_allocator__coll__graph.png" border="0" usemap="#_utilities_1_1_memory_1_1_small_object_allocator_coll__map" alt="Collaboration graph"/></div>
<map name="_utilities_1_1_memory_1_1_small_object_allocator_coll__map" id="_utilities_1_1_memory_1_1_small_object_allocator_coll__map">
<area shape="rect" id="node2" href="class_utilities_1_1_memory_1_1_allocator.html" title="Utilities::Memory::Allocator" alt="" coords="41,5,220,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_utilities_1_1_memory_1_1_small_object_allocator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_utilities_1_1_memory_1_1_small_object_allocator.html#a99acbd910c7a1deadb591ede7cf1ff66">SmallObjectAllocator</a> (const boost::shared_ptr&lt; <a class="el" href="class_utilities_1_1_memory_1_1_page_manager.html">PageManager</a> &gt; &amp;<a class="el" href="class_utilities_1_1_memory_1_1_allocator.html#a9d1dd4f04f01c307e6c262bb5cf4b70e">pageManager</a>, const size_t blockSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespace_utilities_1_1_memory.html#a1862b65850bae7c3c57599e5b5171fb7">byte_pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_utilities_1_1_memory_1_1_small_object_allocator.html#aa417bc68e79b89e7fb853dd10bed33c4">allocate</a> (const size_t bytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_utilities_1_1_memory_1_1_small_object_allocator.html#abf7ba22eedf5ca8eb54c836de8a80322">deallocate</a> (<a class="el" href="namespace_utilities_1_1_memory.html#a260f6db12c905238564ee86910994bab">const_byte_pointer</a> ptr, const size_t sizeOfOneObject, const size_t numObjects)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_utilities_1_1_memory_1_1_small_object_allocator.html#a6c568a8cb87c081c9799ccd63f0273f0">getFreeMemory</a> () const </td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>An allocator specifically designed for small allocations. It separates the underlying memory pages in equally sized blocks. Every allocation uses exactly one such block. The last block in each memory page stores a bitmap which indicates free blocks. </p>

<p>Definition at line <a class="el" href="_small_object_allocator_8h_source.html#l00031">31</a> of file <a class="el" href="_small_object_allocator_8h_source.html">SmallObjectAllocator.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a99acbd910c7a1deadb591ede7cf1ff66"></a><!-- doxytag: member="Utilities::Memory::SmallObjectAllocator::SmallObjectAllocator" ref="a99acbd910c7a1deadb591ede7cf1ff66" args="(const boost::shared_ptr&lt; PageManager &gt; &amp;pageManager, const size_t blockSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Utilities::Memory::SmallObjectAllocator::SmallObjectAllocator </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_utilities_1_1_memory_1_1_page_manager.html">PageManager</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pageManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>blockSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_small_object_allocator_8cpp_source.html#l00027">27</a> of file <a class="el" href="_small_object_allocator_8cpp_source.html">SmallObjectAllocator.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa417bc68e79b89e7fb853dd10bed33c4"></a><!-- doxytag: member="Utilities::Memory::SmallObjectAllocator::allocate" ref="aa417bc68e79b89e7fb853dd10bed33c4" args="(const size_t bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_utilities_1_1_memory.html#a1862b65850bae7c3c57599e5b5171fb7">byte_pointer</a> Utilities::Memory::SmallObjectAllocator::allocate </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>bytes</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allocate memory </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>- The amount of bytes to allocate </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the begin of the allocated memory area. </dd></dl>

<p>Implements <a class="el" href="class_utilities_1_1_memory_1_1_allocator.html#adb09445253c866ffd81eb0afc0ec39f3">Utilities::Memory::Allocator</a>.</p>

<p>Definition at line <a class="el" href="_small_object_allocator_8cpp_source.html#l00050">50</a> of file <a class="el" href="_small_object_allocator_8cpp_source.html">SmallObjectAllocator.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="abf7ba22eedf5ca8eb54c836de8a80322"></a><!-- doxytag: member="Utilities::Memory::SmallObjectAllocator::deallocate" ref="abf7ba22eedf5ca8eb54c836de8a80322" args="(const_byte_pointer ptr, const size_t sizeOfOneObject, const size_t numObjects)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Utilities::Memory::SmallObjectAllocator::deallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_utilities_1_1_memory.html#a260f6db12c905238564ee86910994bab">const_byte_pointer</a>&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>sizeOfOneObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>numObjects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deallocate memory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>- The pointer to the beginning of the memory area to deallocate. </td></tr>
    <tr><td class="paramname">sizeOfOneObject</td><td>- The size of one object in bytes. </td></tr>
    <tr><td class="paramname">numObjects</td><td>- The number of objects to deallocate. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_utilities_1_1_memory_1_1_allocator.html#a9fa28cb62c482dce325ff22d950c2f87">Utilities::Memory::Allocator</a>.</p>

<p>Definition at line <a class="el" href="_small_object_allocator_8cpp_source.html#l00088">88</a> of file <a class="el" href="_small_object_allocator_8cpp_source.html">SmallObjectAllocator.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6c568a8cb87c081c9799ccd63f0273f0"></a><!-- doxytag: member="Utilities::Memory::SmallObjectAllocator::getFreeMemory" ref="a6c568a8cb87c081c9799ccd63f0273f0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Utilities::Memory::SmallObjectAllocator::getFreeMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the amount of free memory. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The amount of memory in bytes which may be allocated using this instance. </dd></dl>

<p>Implements <a class="el" href="class_utilities_1_1_memory_1_1_allocator.html#a06bc4c6ca7f5e9c2fb5692720c30b994">Utilities::Memory::Allocator</a>.</p>

<p>Definition at line <a class="el" href="_small_object_allocator_8cpp_source.html#l00095">95</a> of file <a class="el" href="_small_object_allocator_8cpp_source.html">SmallObjectAllocator.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_small_object_allocator_8h_source.html">SmallObjectAllocator.h</a></li>
<li><a class="el" href="_small_object_allocator_8cpp_source.html">SmallObjectAllocator.cpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_utilities.html">Utilities</a>      </li>
      <li class="navelem"><a class="el" href="namespace_utilities_1_1_memory.html">Memory</a>      </li>
      <li class="navelem"><a class="el" href="class_utilities_1_1_memory_1_1_small_object_allocator.html">SmallObjectAllocator</a>      </li>
      <li class="footer">Generated on Thu Sep 29 2011 for PGameStudio by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
